import http from"http";import https from"https";import url from"url";import assert from"assert";import zlib from"zlib";import buffer from"buffer";import React,{Children,Component,PureComponent}from"react";import{findDOMNode,render,unmountComponentAtNode}from"react-dom";var _isPlaceholder=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]},_curry1=function(e){return function t(r){return 0===arguments.length||_isPlaceholder(r)?t:e.apply(this,arguments)}},_curry2=function(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return _isPlaceholder(r)?t:_curry1(function(t){return e(r,t)});default:return _isPlaceholder(r)&&_isPlaceholder(n)?t:_isPlaceholder(r)?_curry1(function(t){return e(t,n)}):_isPlaceholder(n)?_curry1(function(t){return e(r,t)}):e(r,n)}}},dissoc=_curry2(function(e,t){var r={};for(var n in t)n!==e&&(r[n]=t[n]);return r}),_isArray=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},_slice=function e(t,r,n){switch(arguments.length){case 1:return e(t,0,t.length);case 2:return e(t,r,t.length);default:for(var o=[],i=0,a=Math.max(0,Math.min(t.length,n)-r);a>i;)o[i]=t[r+i],i+=1;return o}},_checkForMethod=function(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return _isArray(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,_slice(arguments,0,r-1))}},_arity=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,o){return t.apply(this,arguments)};case 5:return function(e,r,n,o,i){return t.apply(this,arguments)};case 6:return function(e,r,n,o,i,a){return t.apply(this,arguments)};case 7:return function(e,r,n,o,i,a,s){return t.apply(this,arguments)};case 8:return function(e,r,n,o,i,a,s,u){return t.apply(this,arguments)};case 9:return function(e,r,n,o,i,a,s,u,c){return t.apply(this,arguments)};case 10:return function(e,r,n,o,i,a,s,u,c,l){return t.apply(this,arguments)};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten")}},_curryN=function e(t,r,n){return function(){for(var o=[],i=0,a=t,s=0;r.length>s||arguments.length>i;){var u;s>=r.length||_isPlaceholder(r[s])&&arguments.length>i?(u=arguments[i],i+=1):u=r[s],o[s]=u,_isPlaceholder(u)||(a-=1),s+=1}return a>0?_arity(a,e(t,o,n)):n.apply(this,o)}},_isTransformer=function(e){return"function"==typeof e["@@transducer/step"]},_dispatchable=function(e,t,r){return function(){var n=arguments.length;if(0===n)return r();var o=arguments[n-1];if(!_isArray(o)){var i=_slice(arguments,0,n-1);if("function"==typeof o[e])return o[e].apply(o,i);if(_isTransformer(o))return t.apply(null,i)(o)}return r.apply(this,arguments)}},_has=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},_xwrap=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},function(t){return new e(t)}}(),bind=_curry2(function(e,t){return _arity(e.length,function(){return e.apply(t,arguments)})}),_isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},isArrayLike=_curry1(function(e){return!!_isArray(e)||!!e&&("object"==typeof e&&(!_isString(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))}),_reduce=function(){function e(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}var t="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(r,n,o){if("function"==typeof r&&(r=_xwrap(r)),isArrayLike(o))return function(e,t,r){for(var n=0,o=r.length;o>n;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(r,n,o);if("function"==typeof o.reduce)return function(e,t,r){return e["@@transducer/result"](r.reduce(bind(e["@@transducer/step"],e),t))}(r,n,o);if(null!=o[t])return e(r,n,o[t]());if("function"==typeof o.next)return e(r,n,o);throw new TypeError("reduce: list must be array or iterable")}}(),_xfBase={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},_xreduceBy=function(){function e(e,t,r,n){this.valueFn=e,this.valueAcc=t,this.keyFn=r,this.xf=n,this.inputs={}}return e.prototype["@@transducer/init"]=_xfBase.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(_has(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var r=this.keyFn(t);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],t),e},_curryN(4,[],function(t,r,n,o){return new e(t,r,n,o)})}(),reduceBy=_curryN(4,[],_dispatchable("reduceBy",_xreduceBy,function(e,t,r,n){return _reduce(function(n,o){var i=r(o);return n[i]=e(_has(i,n)?n[i]:t,o),n},{},n)})),groupBy=_curry2(_checkForMethod("groupBy",reduceBy(function(e,t){return null==e&&(e=[]),e.push(t),e},null))),_arrayFromIterator=function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r},_functionName=function(e){var t=(e+"").match(/^function (\w*)/);return null==t?"":t[1]},identical=_curry2(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}),_isArguments=function(){var e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return _has("callee",e)}}(),keys=function(){var e=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],r=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),n=function(e,t){for(var r=0;e.length>r;){if(e[r]===t)return!0;r+=1}return!1};return _curry1("function"!=typeof Object.keys||r?function(o){if(Object(o)!==o)return[];var i,a,s=[],u=r&&_isArguments(o);for(i in o)!_has(i,o)||u&&"length"===i||(s[s.length]=i);if(e)for(a=t.length-1;a>=0;)_has(i=t[a],o)&&!n(s,i)&&(s[s.length]=i),a-=1;return s}:function(e){return Object(e)!==e?[]:Object.keys(e)})}(),type=_curry1(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),_equals=function e(t,r,n,o){if(identical(t,r))return!0;if(type(t)!==type(r))return!1;if(null==t||null==r)return!1;if("function"==typeof t.equals||"function"==typeof r.equals)return"function"==typeof t.equals&&t.equals(r)&&"function"==typeof r.equals&&r.equals(t);switch(type(t)){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===_functionName(t.constructor))return t===r;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof r||!identical(t.valueOf(),r.valueOf()))return!1;break;case"Date":if(!identical(t.valueOf(),r.valueOf()))return!1;break;case"Error":return t.name===r.name&&t.message===r.message;case"RegExp":if(t.source!==r.source||t.global!==r.global||t.ignoreCase!==r.ignoreCase||t.multiline!==r.multiline||t.sticky!==r.sticky||t.unicode!==r.unicode)return!1;break;case"Map":case"Set":if(!e(_arrayFromIterator(t.entries()),_arrayFromIterator(r.entries()),n,o))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i=keys(t);if(i.length!==keys(r).length)return!1;for(var a=n.length-1;a>=0;){if(n[a]===t)return o[a]===r;a-=1}for(n.push(t),o.push(r),a=i.length-1;a>=0;){var s=i[a];if(!_has(s,r)||!e(r[s],t[s],n,o))return!1;a-=1}return n.pop(),o.pop(),!0},equals=_curry2(function(e,t){return _equals(e,t,[],[])}),_indexOf=function(e,t,r){var n,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;e.length>r;){if(0===(o=e[r])&&1/o===n)return r;r+=1}return-1}if(t!=t){for(;e.length>r;){if("number"==typeof(o=e[r])&&o!=o)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;e.length>r;){if(equals(e[r],t))return r;r+=1}return-1},_contains=function(e,t){return _indexOf(t,e,0)>=0},_map=function(e,t){for(var r=0,n=t.length,o=Array(n);n>r;)o[r]=e(t[r]),r+=1;return o},_quote=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'},_toISOString=function(){var e=function(e){return(10>e?"0":"")+e};return"function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(t){return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),_complement=function(e){return function(){return!e.apply(this,arguments)}},_filter=function(e,t){for(var r=0,n=t.length,o=[];n>r;)e(t[r])&&(o[o.length]=t[r]),r+=1;return o},_isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},_xfilter=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=_xfBase.init,e.prototype["@@transducer/result"]=_xfBase.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},_curry2(function(t,r){return new e(t,r)})}(),filter=_curry2(_dispatchable("filter",_xfilter,function(e,t){return _isObject(t)?_reduce(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},keys(t)):_filter(e,t)})),reject=_curry2(function(e,t){return filter(_complement(e),t)}),_toString=function e(t,r){var n=function(n){var o=r.concat([t]);return _contains(n,o)?"<Circular>":e(n,o)},o=function(e,t){return _map(function(t){return _quote(t)+": "+n(e[t])},t.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+_map(n,t).join(", ")+"))";case"[object Array]":return"["+_map(n,t).concat(o(t,reject(function(e){return/^\d+$/.test(e)},keys(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+n(t.valueOf())+")":""+t;case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):_quote(_toISOString(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+n(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+n(t.valueOf())+")":_quote(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var i=""+t;if("[object Object]"!==i)return i}return"{"+o(t,keys(t)).join(", ")+"}"}},toString_1=_curry1(function(e){return _toString(e,[])}),memoize=_curry1(function(e){var t={};return _arity(e.length,function(){var r=toString_1(arguments);return _has(r,t)||(t[r]=e.apply(this,arguments)),t[r]})}),bind$3=function(e,t){return function(){for(var r=Array(arguments.length),n=0;r.length>n;n++)r[n]=arguments[n];return e.apply(t,r)}},toString$1=Object.prototype.toString;function isArray(e){return"[object Array]"===toString$1.call(e)}function isArrayBuffer(e){return"[object ArrayBuffer]"===toString$1.call(e)}function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isUndefined(e){return void 0===e}function isObject(e){return null!==e&&"object"==typeof e}function isDate(e){return"[object Date]"===toString$1.call(e)}function isFile(e){return"[object File]"===toString$1.call(e)}function isBlob(e){return"[object Blob]"===toString$1.call(e)}function isFunction(e){return"[object Function]"===toString$1.call(e)}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function forEach(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||isArray(e)||(e=[e]),isArray(e))for(var r=0,n=e.length;n>r;r++)t.call(null,e[r],r,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(null,e[o],o,e)}function merge(){var e={};function t(t,r){e[r]="object"==typeof e[r]&&"object"==typeof t?merge(e[r],t):t}for(var r=0,n=arguments.length;n>r;r++)forEach(arguments[r],t);return e}function extend(e,t,r){return forEach(t,function(t,n){e[n]=r&&"function"==typeof t?bind$3(t,r):t}),e}var utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim},normalizeHeaderName=function(e,t){utils.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})},PROTECTION_PREFIX=/^\)\]\}',?\n/,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var defaults={transformRequest:[function(e,t){return normalizeHeaderName(t,"Content-Type"),utils.isFormData(e)||utils.isArrayBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e)?e:utils.isArrayBufferView(e)?e.buffer:utils.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),""+e):utils.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(PROTECTION_PREFIX,"");try{e=JSON.parse(e)}catch(e){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:utils.merge(DEFAULT_CONTENT_TYPE),post:utils.merge(DEFAULT_CONTENT_TYPE),put:utils.merge(DEFAULT_CONTENT_TYPE)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&300>e}};function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function(e){utils.forEach(this.handlers,function(t){null!==t&&e(t)})};var InterceptorManager_1=InterceptorManager,transformData=function(e,t,r){return utils.forEach(r,function(r){e=r(e,t)}),e},enhanceError=function(e,t,r,n){return e.config=t,r&&(e.code=r),e.response=n,e},createError=function(e,t,r,n){return enhanceError(Error(e),t,r,n)},settle=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(createError("Request failed with status code "+r.status,r.config,null,r)):e(r)};function encode(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(utils.isURLSearchParams(t))n=""+t;else{var o=[];utils.forEach(t,function(e,t){null!==e&&void 0!==e&&(utils.isArray(e)&&(t+="[]"),utils.isArray(e)||(e=[e]),utils.forEach(e,function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),o.push(encode(t)+"="+encode(e))}))}),n=o.join("&")}return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e},parseHeaders=function(e){var t,r,n,o={};return e?(utils.forEach(e.split("\n"),function(e){n=e.indexOf(":"),t=utils.trim(e.substr(0,n)).toLowerCase(),r=utils.trim(e.substr(n+1)),t&&(o[t]=o[t]?o[t]+", "+r:r)}),o):o},isURLSameOrigin=utils.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=utils.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E(){this.message="String contains an invalid character"}function btoa$1(e){for(var t,r,n=e+"",o="",i=0,a=chars;n.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if((r=n.charCodeAt(i+=.75))>255)throw new E;t=t<<8|r}return o}E.prototype=Error(),E.prototype.code=5,E.prototype.name="InvalidCharacterError";var btoa_1=btoa$1,cookies=utils.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),utils.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),utils.isString(n)&&a.push("path="+n),utils.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},btoa="undefined"!=typeof window&&window.btoa||btoa_1,xhr=function(e){return new Promise(function(t,r){var n=e.data,o=e.headers;utils.isFormData(n)&&delete o["Content-Type"];var i=new XMLHttpRequest,a="onreadystatechange",s=!1;("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in i||isURLSameOrigin(e.url)||(i=new window.XDomainRequest,a="onload",s=!0,i.onprogress=function(){},i.ontimeout=function(){}),e.auth)&&(o.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password||"")));if(i.open(e.method.toUpperCase(),buildURL(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i[a]=function(){if(i&&(4===i.readyState||s)&&0!==i.status){var n="getAllResponseHeaders"in i?parseHeaders(i.getAllResponseHeaders()):null;settle(t,r,{data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:1223===i.status?204:i.status,statusText:1223===i.status?"No Content":i.statusText,headers:n,config:e,request:i}),i=null}},i.onerror=function(){r(createError("Network Error",e)),i=null},i.ontimeout=function(){r(createError("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),i=null},utils.isStandardBrowserEnv()){var u=cookies,c=(e.withCredentials||isURLSameOrigin(e.url))&&e.xsrfCookieName?u.read(e.xsrfCookieName):void 0;c&&(o[e.xsrfHeaderName]=c)}if("setRequestHeader"in i&&utils.forEach(o,function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)}),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(e){if("json"!==i.responseType)throw e}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),void 0===n&&(n=null),i.send(n)})};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d,ms=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return parse(e);if("number"===r&&!1===isNaN(e))return t.long?fmtLong(e):fmtShort(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){if(100>=(e+="").length){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort(e){return d>e?h>e?m>e?s>e?e+"ms":Math.round(e/s)+"s":Math.round(e/m)+"m":Math.round(e/h)+"h":Math.round(e/d)+"d"}function fmtLong(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(e,t,r){if(e>=t)return 1.5*t>e?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var debug$1=createCommonjsModule(function(e,t){var r;function n(e){function n(){if(n.enabled){var e=n,o=+new Date;e.diff=o-(r||o),e.prev=r,e.curr=o,r=o;for(var i=Array(arguments.length),a=0;i.length>a;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;s++;var o=t.formatters[n];"function"==typeof o&&(r=o.call(e,i[s]),i.splice(s,1),s--);return r}),t.formatArgs.call(e,i),(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,o=0;n>o;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;n>r;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;n>r;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=ms,t.names=[],t.skips=[],t.formatters={}}),browser=createCommonjsModule(function(e,t){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=debug$1).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++o)}),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}),streamConsume=function(e){if(e.readable&&"function"==typeof e.resume){var t=e._readableState;if(!t||0===t.pipesCount)try{e.resume()}catch(e){console.error("Got error: "+e)}}},debug=browser("follow-redirects"),create=function(e){var t={},r={maxRedirects:5};for(var n in e)e.hasOwnProperty(n)&&(assert(/^[A-Z][A-Z\+\-\.]*$/i.test(n),JSON.stringify(n)+" is not a valid scheme name"),i(n,e[n]));return r;function o(e){var r,n=[];return r=function r(a){if(a){var s=url.format(e);if(n.unshift(s),!isRedirect(a))return a.fetchedUrls=n,e.userCallback(a);streamConsume(a);var u=url.resolve(s,a.headers.location);debug("redirecting to",u),wipeUrlProps(e),extend$1(e,url.parse(u))}if(n.length>e.maxRedirects){var c=Error("Max redirects exceeded.");return i(c)}e.nativeProtocol=t[e.protocol];e.defaultRequest=o;var l=(e.makeRequest||o)(e,r,a);a&&l.on("error",i);return l}();function o(e,t,r){r&&(e.method="GET");var n=e.nativeProtocol.request(e,t);return r&&n.end(),n}function i(e){r.emit("error",e)}}function i(e,n){var i=e+":",s=function(){};s.prototype=t[i]=n,s=new s,r[e]=s,s.request=function(e,t){return o(a(e,t,i))},s.get=function(e,t){var r=o(e=a(e,t,i));return r.end(),r}}function a(e,t,n){return assert.equal(typeof t,"function","callback must be a function"),"string"==typeof e?(e=url.parse(e)).maxRedirects=r.maxRedirects:e=extend$1({maxRedirects:r.maxRedirects,protocol:n},e),assert.equal(e.protocol,n,"protocol mismatch"),e.protocol=n,e.userCallback=t,debug("options",e),e}};function extend$1(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function isRedirect(e){return e.statusCode>=300&&399>=e.statusCode&&"location"in e.headers}function wipeUrlProps(e){for(var t=0,r=urlProps.length;r>t;++t)e[urlProps[t]]=null}var urlProps=["protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href"],followRedirects=create({http:http,https:https}),dispatchRequest=function(e){var t;return e.headers=e.headers||{},e.data=transformData(e.data,e.headers,e.transformRequest),e.headers=utils.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),utils.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),"function"==typeof e.adapter?t=e.adapter:"undefined"!=typeof XMLHttpRequest?t=xhr:"undefined"!=typeof process&&(t=xhr),Promise.resolve(e).then(t).then(function(t){return t.data=transformData(t.data,t.headers,e.transformResponse),t},function(t){return t&&t.response&&(t.response.data=transformData(t.response.data,t.response.headers,e.transformResponse)),Promise.reject(t)})},isAbsoluteURL=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},combineURLs=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")};function Axios(e){this.defaults=utils.merge(defaults,e),this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function(e){"string"==typeof e&&(e=utils.merge({url:arguments[0]},arguments[1])),(e=utils.merge(defaults,this.defaults,{method:"get"},e)).baseURL&&!isAbsoluteURL(e.url)&&(e.url=combineURLs(e.baseURL,e.url));var t=[dispatchRequest,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},utils.forEach(["delete","get","head"],function(e){Axios.prototype[e]=function(t,r){return this.request(utils.merge(r||{},{method:e,url:t}))}}),utils.forEach(["post","put","patch"],function(e){Axios.prototype[e]=function(t,r,n){return this.request(utils.merge(n||{},{method:e,url:t,data:r}))}});var Axios_1=Axios,spread=function(e){return function(t){return e.apply(null,t)}};function createInstance(e){var t=new Axios_1(e),r=bind$3(Axios_1.prototype.request,t);return utils.extend(r,Axios_1.prototype,t),utils.extend(r,t),r}var axios$2=createInstance();axios$2.Axios=Axios_1,axios$2.create=function(e){return createInstance(e)},axios$2.all=function(e){return Promise.all(e)},axios$2.spread=spread;var axios_1=axios$2,default_1=axios$2;axios_1.default=default_1;var axios=axios_1;function makeEmptyFunction(e){return function(){return e}}var emptyFunction=function(){};emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(e){return e};var emptyFunction_1=emptyFunction;function invariant(e,t,r,n,o,i,a,s){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,s],l=0;(u=Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}var invariant_1=invariant,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;10>r;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,t){for(var r,n,o=toObject(e),i=1;arguments.length>i;i++){for(var a in r=Object(arguments[i]))hasOwnProperty.call(r,a)&&(o[a]=r[a]);if(getOwnPropertySymbols){n=getOwnPropertySymbols(r);for(var s=0;n.length>s;s++)propIsEnumerable.call(r,n[s])&&(o[n[s]]=r[n[s]])}}return o},ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret,factoryWithThrowingShims=function(){function e(e,t,r,n,o,i){i!==ReactPropTypesSecret_1&&invariant_1(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=emptyFunction_1,r.PropTypes=r,r},propTypes=createCommonjsModule(function(e){e.exports=factoryWithThrowingShims()}),_extends=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var includeMap=[{extensions:["js"],tag:"script",attrs:{type:"text/javascript"}},{extensions:["css"],tag:"style",attrs:{}}],defaultContextTypes={router:propTypes.object,store:propTypes.object,storeSubscription:propTypes.object},throwError=function(e){throw Error("ReactShadow: "+e+".")},fetchInclude=memoize(function(e){return axios.get(e).then(function(e){return e.data}).catch(function(){return""})}),withContext=function(e){var t,r,n=function(t){var r,n;return n=r=function(e){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _inherits(r,PureComponent),_createClass(r,[{key:"getChildContext",value:function(){return t}},{key:"componentDidCatch",value:function(e){throwError(e)}},{key:"render",value:function(){return this.props.children}}]),r}(),r.propTypes={children:propTypes.node.isRequired},r.childContextTypes=e,n};return r=t=function(e){function t(){var e,r,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),s=0;i>s;s++)a[s]=arguments[s];return r=o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={resolving:!1},o.ContextProvider=n(o.context),o.WrappedComponent=o.props.children,_possibleConstructorReturn(o,r)}return _inherits(t,Component),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.boundaryMode,n=t.delegatesFocus,o=findDOMNode(this),i=o.attachShadow?o.attachShadow({mode:r,delegatesFocus:n}):o.createShadowRoot(),a=[].concat(this.props.include),s=this.wrapContainer();render(s,i),0===a.length?this.setState({root:i}):(this.setState({root:i,resolving:!0}),this.attachIncludes(a).then(function(){return e.setState({resolving:!1})}))}},{key:"componentDidUpdate",value:function(){render(this.wrapContainer(),this.state.root)}},{key:"componentWillUnmount",value:function(){unmountComponentAtNode(this.state.root)}},{key:"wrapContainer",value:function(){var e=this,t=this.props.children.props.children,r=t.length?React.createElement(this.props.nodeName,null,t):t,n=this.ContextProvider;return n.prototype.getChildContext=function(){return e.context},React.createElement(n,null,r)}},{key:"attachIncludes",value:function(e){var t=this,r=groupBy(function(e){return e.extension})(e.map(function(e){return{filePath:e,extension:e.split(".").pop()}})),n=Object.keys(r).map(function(e){var n=includeMap.find(function(t){return t.extensions.includes(e)}),o=r[e].map(function(e){return e.filePath});!n&&throwError('Files with extension of "'+e+'" are unsupported');var i=document.createElement(n.tag);return Object.keys(n.attrs).map(function(e){return i.setAttribute(e,n.attrs[e])}),Promise.all(o.map(fetchInclude)).then(function(e){i.innerHTML=e.reduce(function(e,t){return e+" "+t}).trim(),i.innerHTML.length&&t.state.root.appendChild(i)})});return Promise.all(n)}},{key:"validate",value:function(){return Array.isArray(this.props.children)&&throwError("You must pass a single child rather than multiple children"),"string"!=typeof this.props.children.type&&throwError("Immediate descendant of <ShadowDOM /> must be a HTML node, rather than a React component"),!0}},{key:"render",value:function(){var e,t,r,n=this;return this.validate()&&(e=Children.only(n.props.children),t=dissoc("children",e.props),r=_extends({},t,{className:((t.className?t.className:"")+" "+(n.state.resolving?"resolving":"resolved")).trim()}),React.createElement(e.type,r))}}]),t}(),t.contextTypes=e,t.propTypes={children:propTypes.node.isRequired,include:propTypes.oneOfType([propTypes.string,propTypes.array]),nodeName:propTypes.string,boundaryMode:propTypes.oneOf(["open","closed"]),delegatesFocus:propTypes.bool},t.defaultProps={include:[],nodeName:"span",boundaryMode:"open",delegatesFocus:!1},r},reactShadow=withContext(defaultContextTypes);export{withContext};export default reactShadow;
